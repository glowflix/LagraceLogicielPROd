# ============================================================
# .env.backend (PRO) - LA GRACE POS (Backend / Electron / Node)
# ============================================================

# ----------------------------
# PATHS & DIRECTORIES
# ----------------------------

GLOWFLIX_ROOT_DIR=C:\Glowflixprojet

GLOWFLIX_PRINT_DIR=C:\Glowflixprojet\printer

PRINT_TEMPLATES_DIR=C:\Glowflixprojet\printer\templates

PRINT_ASSETS_DIR=C:\Glowflixprojet\printer\assets

LOGS_DIR=C:\Glowflixprojet\logs

CONFIG_DIR=C:\Glowflixprojet\config

BACKUP_DIR=C:\Glowflixprojet\data\backups

EXPORT_DIR=C:\Glowflixprojet\data\exports

IMPORT_DIR=C:\Glowflixprojet\data\imports

# ----------------------------
# SERVER & NETWORK
# ----------------------------

PORT=3030

HOST=0.0.0.0

APP_BASE_URL=http://localhost:3030

ENABLE_BONJOUR=1

BONJOUR_NAME=LaGrace-POS

# IMPORTANT: backend seulement
NODE_ENV=development

# ----------------------------
# DATABASE (SQLite)
# ----------------------------

DB_PATH=C:\Glowflixprojet\db\glowflixprojet.db

SQLITE_WAL_MODE=1

SQLITE_TIMEOUT=8000

# ----------------------------
# SECURITY / AUTH
# ----------------------------

JWT_SECRET=lagrace-pos-secret-key-CHANGE-ME

JWT_EXPIRES_IN=86400

LICENSE_KEY=0987654321

ENABLE_LICENSE_CHECK=1

STRICT_TOKEN_VALIDATION=1

SESSION_TIMEOUT_MS=3600000

# ----------------------------
# GOOGLE SHEETS SYNC (PRO)
# ----------------------------

GOOGLE_SHEETS_SPREADSHEET_ID=111HH1yCU1gB5Uovbcach_Olz1e3hL4-J0z8QGHoOEtI

GOOGLE_SHEETS_WEBAPP_URL=https://script.google.com/macros/s/AKfycbzG-jTp8eK2bsC_cqrQPmWcw7qdtiJH7JD9tEA82AkBs_S2AjshWPBIL5YHMVpbA8idXw/exec

GOOGLE_SHEETS_SPREADSHEET_URL=https://docs.google.com/spreadsheets/d/111HH1yCU1gB5Uovbcach_Olz1e3hL4-J0z8QGHoOEtI/edit

# Sync loop
SYNC_AUTO_ENABLED=1

SYNC_INTERVAL_MS=15000

# IMPORTANT: évite les "timeout 9000ms" si ton code lit bien cette variable
SYNC_TIMEOUT_MS=60000

SYNC_MAX_RETRY=2

# Conflits
SYNC_LOCAL_PRIORITY=1

# Option PRO (si ton code le supporte)
# 1 = si table vide -> full pull (bootstrap), sinon incrémental
SYNC_BOOTSTRAP_IF_EMPTY=1

# ----------------------------
# HTTP / PERF
# ----------------------------

ENABLE_COMPRESSION=1

HTTP_TIMEOUT_MS=60000

CACHE_SIZE=2000

CACHE_TTL_MS=300000

# ----------------------------
# PRINTING
# ----------------------------

PRINTER_NAME=

PRINT_DEFAULT_TEMPLATE=receipt-80

PRINT_FORCE_DEFAULT=1

PRINT_MAX_RETRY=3

PRINT_RETRY_DELAYS=2000,5000,10000

PRINT_KEEP_PDF_ON_OK=0

# Guardian : en DEV je recommande 0 (sinon schtasks FAIL si pas admin)
PRINT_GUARDIAN_AUTO=0

PRINT_GUARDIAN_SCRIPT=C:\Glowflixprojet\PrintQueueGuardian.ps1

PRINT_SPOOL_DEADLINE_MS=2500

PRINT_DEDUPE_DEPTH=3

PRINT_ROTATE_180=0

PRINT_TOP_NUDGE_MM=0.5

PRINT_TICKET_WIDTH_MM=80

LAGRACE_CHROME_PATH=

PUPPETEER_EXECUTABLE_PATH=

# ----------------------------
# STOCK / PRODUCTS
# ----------------------------

STOCK_API_URL=http://localhost:3030/api/stock

STOCK_API_TIMEOUT_MS=4000

LOOKUP_MARK_FROM_STOCK=1

PRINT_PIECE_LABEL=PCE

PRINT_CARTON_LABEL=CARTON

PRINT_SZN_LABEL=SZN

# ----------------------------
# DEBTS / DEEP LINK
# ----------------------------

DEBTS_FRONT_BASE=http://localhost:5173

COMP_PATH=/comp.html

DEBTS_DEEPLINK_DELAY_MS=3000

DEBTS_DEEPLINK_EXTRA_WAIT_MS=3500

DEEPLINK_PS_FALLBACK=1

# ----------------------------
# LOGGING
# ----------------------------

LOG_LEVEL=info

LOG_FORMAT=text

LOG_MAX_FILES=10

LOG_MAX_SIZE_MB=10

SYNC_LOG_ENABLED=1

PRINT_LOG_ENABLED=1

AUDIT_LOG_ENABLED=1

DEBUG_MODE=0

SHOW_DETAILED_ERRORS=1

SQL_LOG_ENABLED=0

HTTP_LOG_ENABLED=0

# ----------------------------
# WEBSOCKET / REALTIME
# ----------------------------

WEBSOCKET_ENABLED=1

WEBSOCKET_PORT=3030

CORS_ORIGINS=*

# ----------------------------
# EXCHANGE RATE
# ----------------------------

DEFAULT_EXCHANGE_RATE=2800

# ----------------------------
# COMPANY
# ----------------------------

COMPANY_NAME=ALIMENTATION LA GRACE

COMPANY_RCCM=CD/KIS/RCCM 22-A-00172

COMPANY_IMPOT=A220883T

COMPANY_PHONE=+243 896 885 373 / +243 819 082 637

COMPANY_ADDRESS=Avenue Lac Tanganyika, Makiso, Kisangani, R.D.Congo

# ----------------------------
# BACKUP / MAINTENANCE
# ----------------------------

AUTO_BACKUP_ENABLED=1

BACKUP_INTERVAL_HOURS=24

BACKUP_KEEP_COUNT=7

# ----------------------------
# EXPORT
# ----------------------------

EXPORT_DEFAULT_FORMAT=json

# ----------------------------
# NOTIFICATIONS
# ----------------------------

NOTIFICATIONS_ENABLED=1

NOTIFY_SYNC_SUCCESS=1

NOTIFY_SYNC_ERROR=1

NOTIFY_PRINT_SUCCESS=1

NOTIFY_PRINT_ERROR=1

# ----------------------------
# UPDATE
# ----------------------------

AUTO_UPDATE_CHECK=0

UPDATE_SERVER_URL=

UPDATE_CHECK_INTERVAL_HOURS=24

# ----------------------------
# EXE MODE
# ----------------------------

# En DEV => 0 (sinon comportements "install")
EXE_MODE=0

USE_APPDATA=1

EXE_INSTALL_DIR=%APPDATA%\LaGrace\Glowflixprojet

APPDATA_PATH=%APPDATA%\LaGrace

AUTO_START_ENABLED=0

START_MINIMIZED=0

SYSTRAY_ENABLED=1
