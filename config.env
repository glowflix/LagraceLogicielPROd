# ============================================
# CONFIGURATION COMPLÈTE - LA GRACE POS
# ============================================
# Copiez ce fichier vers .env et modifiez les valeurs selon vos besoins
# Pour une application EXE, ces valeurs peuvent être hardcodées ou lues depuis un fichier config

# ============================================
# CHEMINS ET RÉPERTOIRES
# ============================================

# Répertoire racine du projet (Windows par défaut)
GLOWFLIX_ROOT_DIR=C:\Glowflixprojet

# Alternative : Utiliser AppData pour installation utilisateur
# GLOWFLIX_ROOT_DIR=%APPDATA%\LaGrace\Glowflixprojet

# Répertoire d'impression
GLOWFLIX_PRINT_DIR=C:\Glowflixprojet\printer

# Répertoire des templates d'impression
PRINT_TEMPLATES_DIR=C:\Glowflixprojet\printer\templates

# Répertoire des assets d'impression
PRINT_ASSETS_DIR=C:\Glowflixprojet\printer\assets

# Répertoire des logs
LOGS_DIR=C:\Glowflixprojet\logs

# Répertoire de configuration
CONFIG_DIR=C:\Glowflixprojet\config

# ============================================
# SERVEUR ET RÉSEAU
# ============================================

# Port du serveur HTTP
PORT=3030

# URL de base de l'application
APP_BASE_URL=http://localhost:3030

# Environnement (development, production)
NODE_ENV=production

# Host pour écouter (0.0.0.0 pour toutes les interfaces)
HOST=0.0.0.0

# Activer Bonjour/mDNS pour découverte réseau
ENABLE_BONJOUR=1

# Nom du service Bonjour
BONJOUR_NAME=LaGrace-POS

# ============================================
# BASE DE DONNÉES
# ============================================

# Chemin de la base de données SQLite
DB_PATH=C:\Glowflixprojet\db\glowflixprojet.db

# Mode WAL pour SQLite (recommandé pour accès concurrents)
SQLITE_WAL_MODE=1

# Timeout de connexion SQLite (ms)
SQLITE_TIMEOUT=5000

# ============================================
# SÉCURITÉ ET AUTHENTIFICATION
# ============================================

# Clé secrète JWT (CHANGEZ EN PRODUCTION !)
JWT_SECRET=lagrace-pos-secret-key-2024-change-me-in-production

# Durée de validité du token JWT (en secondes, 24h par défaut)
JWT_EXPIRES_IN=86400

# Clé de licence offline
LICENSE_KEY=0987654321

# Activer la validation de licence
ENABLE_LICENSE_CHECK=1

# ============================================
# GOOGLE SHEETS SYNCHRONISATION
# ============================================

# ID du Google Spreadsheet
GOOGLE_SHEETS_SPREADSHEET_ID=111HH1yCU1gB5Uovbcach_Olz1e3hL4-J0z8QGHoOEtI

# URL du Google Apps Script Web App (PRO - Mode batch + pagination)
# DISABLED: Causing timeout errors on startup - uncomment to enable sync
# GOOGLE_SHEETS_WEBAPP_URL=https://script.google.com/macros/s/AKfycbzG-jTp8eK2bsC_cqrQPmWcw7qdtiJH7JD9tEA82AkBs_S2AjshWPBIL5YHMVpbA8idXw/exec

# URL complète du Spreadsheet (pour référence)
GOOGLE_SHEETS_SPREADSHEET_URL=https://docs.google.com/spreadsheets/d/111HH1yCU1gB5Uovbcach_Olz1e3hL4-J0z8QGHoOEtI/edit

# Intervalle de synchronisation (ms) - 10 secondes par défaut
SYNC_INTERVAL_MS=10000

# Timeout pour les requêtes de synchronisation (ms)
SYNC_TIMEOUT_MS=30000

# Nombre maximum de retry en cas d'échec
SYNC_MAX_RETRY=3

# Activer la synchronisation automatique
SYNC_AUTO_ENABLED=1

# Priorité locale en cas de conflit (1=local, 0=sheets)
SYNC_LOCAL_PRIORITY=1

# ============================================
# IMPRESSION
# ============================================

# Nom de l'imprimante (vide = imprimante par défaut)
PRINTER_NAME=

# Template par défaut (receipt-80, receipt-a4, invoice-a4, etc.)
PRINT_DEFAULT_TEMPLATE=receipt-80

# Forcer l'utilisation de l'imprimante par défaut
PRINT_FORCE_DEFAULT=1

# Nombre maximum de retry en cas d'échec d'impression
PRINT_MAX_RETRY=3

# Délais entre retry (ms) - séparés par des virgules
PRINT_RETRY_DELAYS=2000,5000,10000

# Garder les PDF après impression réussie (0=supprimer, 1=garder)
PRINT_KEEP_PDF_ON_OK=0

# Activer le guardian PowerShell pour Windows
PRINT_GUARDIAN_AUTO=1

# Chemin du script guardian PowerShell
PRINT_GUARDIAN_SCRIPT=C:\Glowflixprojet\PrintQueueGuardian.ps1

# Délai maximum d'attente pour le spooler (ms)
PRINT_SPOOL_DEADLINE_MS=2000

# Profondeur de déduplication (nombre de jobs récents à vérifier)
PRINT_DEDUPE_DEPTH=3

# Rotation 180° pour certaines imprimantes
PRINT_ROTATE_180=0

# Ajustement vertical en mm (0.5 par défaut)
PRINT_TOP_NUDGE_MM=0.5

# Largeur du ticket en mm (80 pour ticket 80mm)
PRINT_TICKET_WIDTH_MM=80

# Chemin Chrome/Chromium pour Puppeteer (optionnel)
LAGRACE_CHROME_PATH=
PUPPETEER_EXECUTABLE_PATH=

# ============================================
# STOCK ET PRODUITS
# ============================================

# URL de l'API stock (pour lookup MARK)
STOCK_API_URL=http://localhost:3030/api/stock

# Timeout pour les requêtes stock (ms)
STOCK_API_TIMEOUT_MS=2000

# Activer le lookup MARK depuis l'API stock
LOOKUP_MARK_FROM_STOCK=1

# Labels personnalisés
PRINT_PIECE_LABEL=PCE
PRINT_CARTON_LABEL=CARTON
PRINT_SZN_LABEL=SZN

# ============================================
# DETTES ET DEEP-LINK
# ============================================

# URL de base pour les deep-links dettes
DETTEs_FRONT_BASE=http://localhost:3000
# APP_BASE_URL déjà défini ligne 40 (http://localhost:3030) - NE PAS DUPLIQUER

# Chemin du composant dettes
COMP_PATH=/comp.html

# Délai avant ouverture du deep-link (ms)
DETTEs_DEEPLINK_DELAY_MS=3000

# Délai supplémentaire d'attente (ms)
DETTEs_DEEPLINK_EXTRA_WAIT_MS=3500

# Utiliser PowerShell comme fallback pour deep-link
DEEPLINK_PS_FALLBACK=1

# ============================================
# LOGS ET DEBUGGING
# ============================================

# Niveau de log (error, warn, info, debug)
LOG_LEVEL=info

# Activer les logs de synchronisation
SYNC_LOG_ENABLED=1

# Activer les logs d'impression
PRINT_LOG_ENABLED=1

# Activer les logs d'audit
AUDIT_LOG_ENABLED=1

# Format des logs (json, text)
LOG_FORMAT=text

# Rotation des logs (nombre de fichiers à garder)
LOG_MAX_FILES=10

# Taille maximale d'un fichier de log (en MB)
LOG_MAX_SIZE_MB=10

# ============================================
# WEBSOCKET ET TEMPS RÉEL
# ============================================

# Activer WebSocket
WEBSOCKET_ENABLED=1

# Port WebSocket (généralement le même que HTTP)
WEBSOCKET_PORT=3030

# CORS - Origines autorisées (séparées par des virgules)
CORS_ORIGINS=*

# ============================================
# INTERFACE UTILISATEUR
# ============================================

# URL de l'API pour le frontend React
VITE_API_URL=http://localhost:3030

# Mode développement UI (1=dev, 0=production)
VITE_DEV_MODE=0

# Port du serveur de développement Vite
VITE_PORT=5173

# ============================================
# TAUX DE CHANGE
# ============================================

# Taux de change par défaut FC/USD
DEFAULT_EXCHANGE_RATE=2800

# ============================================
# ENTREPRISE (valeurs par défaut)
# ============================================

# Nom de l'entreprise
COMPANY_NAME=ALIMENTATION LA GRACE

# RCCM
COMPANY_RCCM=CD/KIS/RCCM 22-A-00172

# Numéro d'impôt
COMPANY_IMPOT=A220883T

# Téléphone
COMPANY_PHONE=+243 896 885 373 / +243 819 082 637

# Adresse
COMPANY_ADDRESS=Avenue Lac Tanganyika, Makiso, Kisangani, R.D.Congo

# ============================================
# PERFORMANCE ET OPTIMISATION
# ============================================

# Taille du cache en mémoire (nombre d'éléments)
CACHE_SIZE=1000

# Durée de vie du cache (ms)
CACHE_TTL_MS=300000

# Activer la compression des réponses HTTP
ENABLE_COMPRESSION=1

# Timeout des requêtes HTTP (ms)
HTTP_TIMEOUT_MS=30000

# ============================================
# SÉCURITÉ AVANCÉE
# ============================================

# Activer HTTPS (nécessite certificat)
HTTPS_ENABLED=0

# Chemin du certificat SSL
SSL_CERT_PATH=

# Chemin de la clé privée SSL
SSL_KEY_PATH=

# Activer la validation stricte des tokens
STRICT_TOKEN_VALIDATION=1

# Durée de session inactive avant déconnexion (ms)
SESSION_TIMEOUT_MS=3600000

# ============================================
# MODE DÉVELOPPEMENT / DEBUG
# ============================================

# Activer le mode debug
DEBUG_MODE=0

# Afficher les erreurs détaillées
SHOW_DETAILED_ERRORS=0

# Activer les logs SQL
SQL_LOG_ENABLED=0

# Activer les logs de requêtes HTTP
HTTP_LOG_ENABLED=0

# ============================================
# BACKUP ET MAINTENANCE
# ============================================

# Activer les backups automatiques
AUTO_BACKUP_ENABLED=1

# Intervalle de backup (en heures)
BACKUP_INTERVAL_HOURS=24

# Nombre de backups à conserver
BACKUP_KEEP_COUNT=7

# Répertoire des backups
BACKUP_DIR=C:\Glowflixprojet\data\backups

# ============================================
# EXPORT ET IMPORT
# ============================================

# Répertoire des exports
EXPORT_DIR=C:\Glowflixprojet\data\exports

# Répertoire des imports
IMPORT_DIR=C:\Glowflixprojet\data\imports

# Format d'export par défaut (json, csv, xlsx)
EXPORT_DEFAULT_FORMAT=json

# ============================================
# NOTIFICATIONS
# ============================================

# Activer les notifications système
NOTIFICATIONS_ENABLED=1

# Activer les notifications de synchronisation
NOTIFY_SYNC_SUCCESS=1
NOTIFY_SYNC_ERROR=1

# Activer les notifications d'impression
NOTIFY_PRINT_SUCCESS=1
NOTIFY_PRINT_ERROR=1

# ============================================
# MISE À JOUR AUTOMATIQUE
# ============================================

# Activer la vérification de mise à jour
AUTO_UPDATE_CHECK=0

# URL du serveur de mise à jour
UPDATE_SERVER_URL=

# Intervalle de vérification (en heures)
UPDATE_CHECK_INTERVAL_HOURS=24

# ============================================
# CONFIGURATION SPÉCIFIQUE EXE
# ============================================

# Mode application EXE (1=exe, 0=dev)
# En développement, mettre à 0
EXE_MODE=0

# Chemin d'installation de l'EXE
EXE_INSTALL_DIR=%APPDATA%\LaGrace\Glowflixprojet

# Utiliser AppData pour les données utilisateur
USE_APPDATA=1

# Chemin AppData (Windows)
APPDATA_PATH=%APPDATA%\LaGrace

# Activer le démarrage automatique au boot
AUTO_START_ENABLED=0

# Minimiser au démarrage
START_MINIMIZED=0

# Activer la barre système (systray)
SYSTRAY_ENABLED=1

# ============================================
# FIN DE CONFIGURATION
# ============================================
# Note: Pour une application EXE, certaines valeurs peuvent être
# hardcodées dans le code ou lues depuis un fichier config.json
# au lieu de variables d'environnement.
